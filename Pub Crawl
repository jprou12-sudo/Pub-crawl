<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>J+J Pub Golf Scorecard</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <style>
    :root {
      --bg: #f5f7fb;
      --card: #ffffff;
      --primary: #0b3d91;
      --accent: #2e7d32;
      --text-main: #102027;
      --text-muted: #607d8b;
      --border: #cfd8dc;
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
    }

    body {
      background: var(--bg);
      color: var(--text-main);
      padding: 12px;
    }

    .app {
      max-width: 480px;
      margin: 0 auto;
    }

    header {
      text-align: center;
      margin-bottom: 12px;
    }

    header h1 {
      font-size: 1.4rem;
      color: var(--primary);
      margin-bottom: 4px;
    }

    header h2 {
      font-size: 0.95rem;
      color: var(--text-muted);
    }

    .card {
      background: var(--card);
      border-radius: 12px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.05);
      padding: 10px 12px;
      margin-bottom: 10px;
      border: 1px solid var(--border);
    }

    .summary {
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 8px;
      flex-wrap: wrap;
    }

    .summary-main {
      display: flex;
      flex-direction: column;
      gap: 4px;
    }

    .summary-main div {
      font-size: 0.9rem;
    }

    .summary-main span.label {
      font-weight: 600;
      color: var(--text-muted);
      margin-right: 4px;
    }

    .summary-par {
      font-size: 0.85rem;
      color: var(--text-muted);
    }

    .badge {
      padding: 4px 8px;
      border-radius: 999px;
      font-size: 0.8rem;
      font-weight: 600;
      border: 1px solid var(--border);
      background: #e3f2fd;
      color: var(--primary);
      text-align: center;
      min-width: 80px;
    }

    .badge.over {
      background: #ffebee;
      color: #c62828;
      border-color: #ffcdd2;
    }

    .badge.under {
      background: #e8f5e9;
      color: #2e7d32;
      border-color: #c8e6c9;
    }

    .holes-header {
      display: grid;
      grid-template-columns: 0.6fr 1.4fr 0.9fr 0.5fr 0.7fr;
      font-size: 0.7rem;
      text-transform: uppercase;
      color: var(--text-muted);
      border-bottom: 1px solid var(--border);
      padding-bottom: 4px;
      margin-bottom: 4px;
    }

    .hole-row {
      display: grid;
      grid-template-columns: 0.6fr 1.4fr 0.9fr 0.5fr 0.7fr;
      align-items: center;
      gap: 4px;
      padding: 5px 0;
      border-bottom: 1px dashed rgba(207,216,220,0.6);
    }

    .hole-row:last-child {
      border-bottom: none;
    }

    .hole-number {
      font-weight: 600;
      color: var(--primary);
      font-size: 0.85rem;
    }

    .venue {
      font-size: 0.8rem;
      font-weight: 600;
    }

    .drink {
      font-size: 0.75rem;
      color: var(--text-muted);
    }

    .par {
      font-size: 0.85rem;
      font-weight: 600;
      text-align: center;
    }

    .score-input {
      width: 100%;
      padding: 4px 6px;
      font-size: 0.8rem;
      border-radius: 8px;
      border: 1px solid var(--border);
      text-align: center;
      outline: none;
    }

    .score-input:focus {
      border-color: var(--primary);
      box-shadow: 0 0 0 2px rgba(11,61,145,0.18);
    }

    .penalties p {
      font-size: 0.8rem;
      margin-bottom: 2px;
    }

    .penalties b {
      color: var(--primary);
    }

    .rules p {
      font-size: 0.8rem;
      margin-bottom: 2px;
    }

    .rules b {
      color: var(--primary);
    }

    .notes {
      font-size: 0.8rem;
      margin-top: 4px;
    }

    .notes-area {
      width: 100%;
      min-height: 60px;
      padding: 6px;
      border-radius: 8px;
      border: 1px solid var(--border);
      resize: vertical;
      font-size: 0.8rem;
    }

    .btn-row {
      display: flex;
      justify-content: flex-end;
      margin-top: 8px;
    }

    button.clear-btn {
      border-radius: 999px;
      border: 1px solid #c62828;
      padding: 6px 12px;
      font-size: 0.75rem;
      color: #c62828;
      background: #ffebee;
    }

    button.clear-btn:active {
      transform: scale(0.97);
    }

    footer {
      text-align: center;
      font-size: 0.7rem;
      color: var(--text-muted);
      margin-top: 6px;
    }
  </style>
</head>
<body>
  <div class="app">
    <header>
      <h1>J+J Championship 2025</h1>
      <h2>Pub Golf Mobile Scorecard</h2>
    </header>

    <!-- Summary card -->
    <section class="card">
      <div class="summary">
        <div class="summary-main">
          <div>
            <span class="label">Total score:</span>
            <span id="totalScore">0</span>
          </div>
          <div>
            <span class="label">Course par:</span>
            <span id="coursePar">15</span>
          </div>
        </div>
        <div id="relativeBadge" class="badge">
          No scores yet
        </div>
      </div>
    </section>

    <!-- Holes card -->
    <section class="card">
      <div class="holes-header">
        <div>#</div>
        <div>Venue</div>
        <div>Drink</div>
        <div>Par</div>
        <div>Score</div>
      </div>

      <!-- Hole rows -->
      <div class="hole-row">
        <div class="hole-number">1</div>
        <div class="venue">The Paddo</div>
        <div class="drink">XXXX Jug</div>
        <div class="par">1</div>
        <div><input type="number" min="0" inputmode="numeric" class="score-input" data-hole="1" /></div>
      </div>

      <div class="hole-row">
        <div class="hole-number">2</div>
        <div class="venue">The Caxton Hotel</div>
        <div class="drink">White Wine 1/2 Bottle</div>
        <div class="par">2</div>
        <div><input type="number" min="0" inputmode="numeric" class="score-input" data-hole="2" /></div>
      </div>

      <div class="hole-row">
        <div class="hole-number">3</div>
        <div class="venue">The Lord Alfred</div>
        <div class="drink">Aperol Spritz √ó 2</div>
        <div class="par">2</div>
        <div><input type="number" min="0" inputmode="numeric" class="score-input" data-hole="3" /></div>
      </div>

      <div class="hole-row">
        <div class="hole-number">4</div>
        <div class="venue">Brew</div>
        <div class="drink">Long Island</div>
        <div class="par">3</div>
        <div><input type="number" min="0" inputmode="numeric" class="score-input" data-hole="4" /></div>
      </div>

      <div class="hole-row">
        <div class="hole-number">5</div>
        <div class="venue">Embassy Hotel</div>
        <div class="drink">Pint</div>
        <div class="par">1</div>
        <div><input type="number" min="0" inputmode="numeric" class="score-input" data-hole="5" /></div>
      </div>

      <div class="hole-row">
        <div class="hole-number">6</div>
        <div class="venue">Guilhooleys</div>
        <div class="drink">Guinness Pint</div>
        <div class="par">2</div>
        <div><input type="number" min="0" inputmode="numeric" class="score-input" data-hole="6" /></div>
      </div>

      <div class="hole-row">
        <div class="hole-number">7</div>
        <div class="venue">The Gresham</div>
        <div class="drink">Tequila Shots √ó 2</div>
        <div class="par">2</div>
        <div><input type="number" min="0" inputmode="numeric" class="score-input" data-hole="7" /></div>
      </div>

      <div class="hole-row">
        <div class="hole-number">8</div>
        <div class="venue">Brooklyn Standard</div>
        <div class="drink">Skinny Bitches</div>
        <div class="par">1</div>
        <div><input type="number" min="0" inputmode="numeric" class="score-input" data-hole="8" /></div>
      </div>

      <div class="hole-row">
        <div class="hole-number">9</div>
        <div class="venue">Prince Consort</div>
        <div class="drink">Cruiser</div>
        <div class="par">1</div>
        <div><input type="number" min="0" inputmode="numeric" class="score-input" data-hole="9" /></div>
      </div>

      <div class="hole-row">
        <div class="hole-number">10</div>
        <div class="venue">Rics Backyard</div>
        <div class="drink">Tequila Applejuice</div>
        <div class="par">1</div>
        <div><input type="number" min="0" inputmode="numeric" class="score-input" data-hole="10" /></div>
      </div>

      <div class="hole-row">
        <div class="hole-number">11</div>
        <div class="venue">The Wickham</div>
        <div class="drink">Cocktail</div>
        <div class="par">2</div>
        <div><input type="number" min="0" inputmode="numeric" class="score-input" data-hole="11" /></div>
      </div>

      <div class="hole-row">
        <div class="hole-number">12</div>
        <div class="venue">Jubilee</div>
        <div class="drink">Frankies Pint</div>
        <div class="par">-3</div>
        <div><input type="number" min="0" inputmode="numeric" class="score-input" data-hole="12" /></div>
      </div>

      <div class="btn-row">
        <button type="button" class="clear-btn" id="clearScores">Clear all scores</button>
      </div>
    </section>

    <section class="card">
      <div class="penalties">
        <p><b>Penalties</b></p>
        <p>+2 ‚Äî Water hazard (taking a piss)</p>
        <p>+3 ‚Äî Spilling a drink</p>
        <p>+4 ‚Äî Vomiting</p>
        <p>+6 ‚Äî Not allowed in / refused service / kicked out</p>
      </div>
      <br />
      <div class="rules">
        <p><b>Rules</b></p>
        <p>Buffalo every even location üçª</p>
        <p>Most under par wins üèÜ</p>
      </div>
      <br />
      <div class="notes">
        <p><b>Notes / Signature</b></p>
        <textarea class="notes-area" id="notesArea" placeholder="Winner, disasters, honourable mentions..."></textarea>
      </div>
    </section>

    <footer>
      May your par stay low and your spirits high.
    </footer>
  </div>

  <script>
    (function () {
      const pars = [1, 2, 2, 3, 1, 2, 2, 1, 1, 1, 2, -3];
      const COURSE_PAR = pars.reduce((sum, p) => sum + p, 0); // 15
      const scoreInputs = document.querySelectorAll(".score-input");
      const totalScoreEl = document.getElementById("totalScore");
      const courseParEl = document.getElementById("coursePar");
      const badgeEl = document.getElementById("relativeBadge");
      const clearBtn = document.getElementById("clearScores");
      const notesArea = document.getElementById("notesArea");

      courseParEl.textContent = COURSE_PAR;

      function loadState() {
        scoreInputs.forEach((input) => {
          const hole = input.getAttribute("data-hole");
          const saved = localStorage.getItem("jj_pubgolf_hole_" + hole);
          if (saved !== null) {
            input.value = saved;
          }
        });

        const savedNotes = localStorage.getItem("jj_pubgolf_notes");
        if (savedNotes !== null) {
          notesArea.value = savedNotes;
        }
      }

      function saveState() {
        scoreInputs.forEach((input) => {
          const hole = input.getAttribute("data-hole");
          const val = input.value.trim();
          if (val === "") {
            localStorage.removeItem("jj_pubgolf_hole_" + hole);
          } else {
            localStorage.setItem("jj_pubgolf_hole_" + hole, val);
          }
        });

        const notesVal = notesArea.value.trim();
        if (notesVal === "") {
          localStorage.removeItem("jj_pubgolf_notes");
        } else {
          localStorage.setItem("jj_pubgolf_notes", notesVal);
        }
      }

      function updateTotals() {
        let totalScore = 0;
        let hasScore = false;

        scoreInputs.forEach((input) => {
          const val = parseInt(input.value, 10);
          if (!isNaN(val)) {
            totalScore += val;
            hasScore = true;
          }
        });

        totalScoreEl.textContent = hasScore ? totalScore : 0;

        if (!hasScore) {
          badgeEl.textContent = "No scores yet";
          badgeEl.className = "badge";
          return;
        }

        const diff = totalScore - COURSE_PAR;

        if (diff === 0) {
          badgeEl.textContent = "Even par (E)";
          badgeEl.className = "badge";
        } else if (diff > 0) {
          badgeEl.textContent = diff + " over par (+" + diff + ")";
          badgeEl.className = "badge over";
        } else {
          const under = Math.abs(diff);
          badgeEl.textContent = under + " under par (-" + under + ")";
          badgeEl.className = "badge under";
        }
      }

      scoreInputs.forEach((input) => {
        input.addEventListener("input", () => {
          saveState();
          updateTotals();
        });
      });

      notesArea.addEventListener("input", () => {
        saveState();
      });

      clearBtn.addEventListener("click", () => {
        if (!confirm("Clear all scores and notes?")) return;
        scoreInputs.forEach((input) => (input.value = ""));
        notesArea.value = "";
        saveState();
        updateTotals();
      });

      loadState();
      updateTotals();
    })();
  </script>
</body>
</html>
